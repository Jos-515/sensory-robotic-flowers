from guizero import App, Box, Text, PushButton, Window

app = App(bg = "white", title="Flower Control System", width=785, height=500)

#app.full_screen = True

from PIL import Image

# Resize and save images
def resize_and_save(original_path, output_path, size=(150, 100)):
    img = Image.open(original_path)
    img = img.resize(size)
    img.save(output_path)

# Resize all images and save to new files
resize_and_save("bin/IMG_0525.gif", "bin/moisture_resized.gif")
resize_and_save("bin/IMG_0526.gif", "bin/light_resized.gif")
resize_and_save("bin/IMG_0524.gif", "bin/air_resized.gif")
resize_and_save("bin/IMG_0527.gif", "bin/temperature_resized.gif")

top_divider = Box(app, height="20", width="fill", align="top")
bottom_divider = Box(app, height="20", width="fill", align="bottom")

#DIVIDER

divider = Box(app, height="fill", width="20", align="left")

#MOISTURE

def open_moisture_window():
    moisture_window.show()
    moisture_window.full_screen = True

def close_moisture_window():
    moisture_window.hide()
    app.show()

    
moisture_levels = Box(app, height="fill", width="fill", align="left", border=True)
Text(moisture_levels, text="Moisture Levels", bold=True, font="Monaco")

moisture_box = Box(moisture_levels, width="170", align="bottom", height=100, border=True)

button = PushButton(moisture_box, image="bin/moisture_resized.gif", command=open_moisture_window)

moisture_window = Window(app, title="Moisture Levels", width=785, height=500)
moisture_window.hide()  
moisture_window.bg = "white" 
moisture_window.text_bold
moisture_window.font = "Monaco"

#MOISTURE INFORMATION WINDOW

top_divider = Box(moisture_window, height="20", width="fill", align="top")
bottom_divider = Box(moisture_window, height="20", width="fill", align="bottom")
left_divider = Box(moisture_window, height="fill", width="20", align="left")
right_divider = Box(moisture_window, height="fill", width="20", align="right")

moisture_button_box = Box(moisture_window, height="20", width="fill", align="top")

moisture_back_button = PushButton(moisture_button_box, text="Back", command=close_moisture_window, align="left", width=10, height=2)

Text(moisture_window, text="")  # Blank line
line = Box(moisture_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color
Text(moisture_window, text="")  # Blank line

Text(moisture_window, text="Water makes up 80-95% of plants weight and \n is necessary for transporting nutrients and maintaining \n turgor pressure, this is what helps the plant stand up without drooping. \n With reduced amounts of water, \n the processes of respiration, transpiration and photosynthesis \n are decreased. Water aids in maintaining \n the temperature of plants and acts as a buffer.", align="top")

Text(moisture_window, text="")  # Blank line
line = Box(moisture_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color

#END OF MOISTURE WINDOW 

moisture_progress_box = Box(moisture_levels, width="fill", align="top", height=500, border=True)


moisture_left = Box(moisture_progress_box, height="fill", width="fill", align="left")

moisture_mid = Box(moisture_progress_box, height="fill", width="fill", align="left")

moisture_right = Box(moisture_progress_box, height="fill", width="fill", align="left")

moisture_boxes = []
for _ in range(17):
    box = Box(moisture_mid, height="fill", width="fill", align="top", border=True)
    moisture_boxes.append(box)

moisture_boxes[0].border = False
moisture_boxes[16].border = False

#moisture_boxes[15].bg = "#694D40"

#DIVIDER

divider = Box(app, height="fill", width="20", align="left")

#LIGHT

def open_light_window():
    light_window.show()
    light_window.full_screen = True

light_levels = Box(app, height="fill", width="fill", align="left", border=True)
Text(light_levels, text="Light Levels", bold=True, font="Monaco")

light_box = Box(light_levels, width="170", align="bottom", height=100, border=True)
#Text(light_box, text="Inner Box Content")
#picture = Picture(light_box, image="bin/light_resized.gif")
button = PushButton(light_box, image="bin/light_resized.gif", command=open_light_window)

light_window = Window(app, title="Light Levels", width=785, height=500)

light_window.hide()  

light_window.bg = "white"
light_window.text_bold
light_window.font = "Monaco"

#LIGHT INFORMATION WINDOW

def close_light_window():
    light_window.hide()
    app.show()

top_divider = Box(light_window, height="20", width="fill", align="top")
bottom_divider = Box(light_window, height="20", width="fill", align="bottom")
left_divider = Box(light_window, height="fill", width="20", align="left")
right_divider = Box(light_window, height="fill", width="20", align="right")

light_button_box = Box(light_window, height="20", width="fill", align="top")

light_back_button = PushButton(light_button_box, text="Back", command=close_light_window, align="left", width=10, height=2)

Text(light_window, text="")  # Blank line
line = Box(light_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color
Text(light_window, text="")  # Blank line

Text(light_window, text="Light is used to regulate many of the physiological \n processes within plants. It is the main source of energy \n which is gained through the process of photosynthesis.\n Therefore when the light decreases, \n so does photosynthesis. It is also a factor in \n ‘germination, leaf proliferation and expansion’,\n so without it the growth is slowed and stunted.", align="top")

Text(light_window, text="")  # Blank line
line = Box(light_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color

#END OF LIGHT WINDOW 

light_progress_box = Box(light_levels, width="fill", align="top", height=500, border=True)

light_left = Box(light_progress_box, height="fill", width="fill", align="left")

light_mid = Box(light_progress_box, height="fill", width="fill", align="left")

light_right = Box(light_progress_box, height="fill", width="fill", align="left")

light_boxes = []
for _ in range(17):
    box = Box(light_mid, height="fill", width="fill", align="top", border=True)
    light_boxes.append(box)

light_boxes[0].border = False
light_boxes[16].border = False

#DIVIDER

divider = Box(app, height="fill", width="20", align="left")

#AIRFLOW

def open_air_window():
    air_window.show()
    air_window.full_screen = True 

air_flow = Box(app, height="1500", width="fill", align="left", border=True)
Text(air_flow, text="Air Flow", bold=True, font="Monaco")

air_box = Box(air_flow, width="170", align="bottom", height=100, border=True)
#Text(light_box, text="Inner Box Content")
#picture = Picture(air_box, image="bin/air_resized.gif")
button = PushButton(air_box, image="bin/air_resized.gif", command=open_air_window)

air_window = Window(app, title="Air Flow", width=785, height=500, )
air_window.hide() 
air_window.bg = "white"
air_window.text_bold
air_window.font = "Monaco"

#AIR INFORMATION WINDOW

def close_air_window():
    air_window.hide()
    app.show()

top_divider = Box(air_window, height="20", width="fill", align="top")
bottom_divider = Box(air_window, height="20", width="fill", align="bottom")
left_divider = Box(air_window, height="fill", width="20", align="left")
right_divider = Box(air_window, height="fill", width="20", align="right")

air_button_box = Box(air_window, height="20", width="fill", align="top")

air_back_button = PushButton(air_button_box, text="Back", command=close_air_window, align="left", width=10, height=2)

Text(air_window, text="")  # Blank line
line = Box(air_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color
Text(air_window, text="")  # Blank line

Text(air_window, text="When there are high amounts of air movement, \n it has a drying effect on the plants.\n Therefore they require more water at shorter intervals. \n Without any air movement occurring the leaves  \n become saturated with water vapour. This increases the \n  risk of pathogen attacks as a warm and moist environment  \n is the perfect place for bacteria to grow.  \n Overall this weakens the plant and can make it \n  more susceptible to catching diseases \n which increases the likelihood of it spreading \n to the neighbouring plants.", align="top")

Text(air_window, text="")  # Blank line
line = Box(air_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color

#END OF AIR INFORMATION WINDOW

air_progress_box = Box(air_flow, width="fill", align="top", height=1500, border=True)
#Text(air_progress_box, text="Inner Box Content")

air_left = Box(air_progress_box, height="fill", width="fill", align="left")

air_mid = Box(air_progress_box, height="fill", width="fill", align="left")

air_right = Box(air_progress_box, height="fill", width="fill", align="left")

air_boxes = []
for _ in range(17):
    box = Box(air_mid, height="fill", width="fill", align="top", border=True)
    air_boxes.append(box)

air_boxes[0].border = False
air_boxes[16].border = False

#DIVIDER

divider = Box(app, height="fill", width="20", align="left")

#TEMPERATURE

def open_temperature_window():
    temperature_window.show()
    temperature_window.full_screen = True

temperature = Box(app, height="fill", width="fill", align="left", border=True)
Text(temperature, text="Temperature", bold=True, font="Monaco")

temperature_box = Box(temperature, width="170", align="bottom", height=100, border=True)
#Text(temperature_box, text="Inner Box Content")
button = PushButton(temperature_box, image="bin/temperature_resized.gif", command=open_temperature_window)

temperature_window = Window(app, title="Temperature", width=785, height=500)
temperature_window.hide()  
temperature_window.bg = "white"
temperature_window.text_bold
temperature_window.font = "Monaco"

#AIR INFORMATION WINDOW

def close_temperature_window():
    temperature_window.hide()
    app.show()

top_divider = Box(temperature_window, height="20", width="fill", align="top")
bottom_divider = Box(temperature_window, height="20", width="fill", align="bottom")
left_divider = Box(temperature_window, height="fill", width="20", align="left")
right_divider = Box(temperature_window, height="fill", width="20", align="right")

temperature_button_box = Box(temperature_window, height="20", width="fill", align="top")

temperature_back_button = PushButton(temperature_button_box, text="Back", command=close_temperature_window, align="left", width=10, height=2)

Text(temperature_window, text="")  # Blank line
line = Box(temperature_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color
Text(temperature_window, text="")  # Blank line

Text(temperature_window, text="Whilst the temperature from day to night fluctuates, \n it is recommended that it only decrease by 10 to 15°C. \n Any extreme temperature change can lead to stress \n which can hinder the plants growth. \n This increases their risk of disease. \n Warmer temperatures lead to more \n photosynthesis and respiration.\n Additionally, warmer soil temperature boosts \n the amount of water and nutrients absorbed. ", align="top")

Text(temperature_window, text="", align="top")

line = Box(temperature_window, width="fill", height=2, border=0)
line.bg = "black"  # Line color

#END OF TEMPERATURE WINDOW 

temperature_progress_box = Box(temperature, width="fill", align="top", height=500, border=True)
#Text(temperature_progress_box, text="Inner Box Content")

temperature_left = Box(temperature_progress_box, height="fill", width="fill", align="left")

temperature_mid = Box(temperature_progress_box, height="fill", width="fill", align="left")

temperature_right = Box(temperature_progress_box, height="fill", width="fill", align="left")

temperature_boxes = []
for _ in range(17):
    box = Box(temperature_mid, height="fill", width="fill", align="top", border=True)
    temperature_boxes.append(box)

temperature_boxes[0].border = False
temperature_boxes[16].border = False

#DIVIDER

divider = Box(app, height="fill", width="20", align="left")

app.display()
